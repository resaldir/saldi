{"componentChunkName":"component---src-templates-post-js","path":"/refactoring-dont-repeat-yourself/","webpackCompilationHash":"","result":{"data":{"markdownRemark":{"html":"<p>Refactoring is the process of editing code to improve efficiency and readability without changing the output. I made a little example to demonstrate how a beginner can start refactoring their code. This mini-tutorial covers the DRY (Don’t Repeat Yourself) concept, and might come in handy in the future.</p>\n<p>Let's say I have some data in the form of a JavaScript/JSON object or array. The data and how it's formatted doesn't matter much here, it could be much more complex, but I'm leaving it simple for example's sake. (It could come from an API, but I'm going to leave out the step of fetching data for this example as it's irrelevant.) Here’s our data:</p>\n<div class=\"filename\">data</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> sessions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  mobile<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  tablet<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  desktop<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now let's say I have a function that I need to run that data through multiple times. Maybe I'm sending it through an API to map out a chart. In this case, I'm printing the data to a website (the DOM).</p>\n<div class=\"filename\">function</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">printData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> sessions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span>\n  div<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n  div<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> name <span class=\"token operator\">+</span> <span class=\"token string\">' : '</span> <span class=\"token operator\">+</span> sessions\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>div<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>So there's my common code: data and a function.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> sessions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  mobile<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  tablet<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  desktop<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">printData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> sessions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span>\n  div<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n  div<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> name <span class=\"token operator\">+</span> <span class=\"token string\">' : '</span> <span class=\"token operator\">+</span> sessions\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>div<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"original-code\"><a href=\"#original-code\" aria-label=\"original code permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Original code</h2>\n<p>So for my first try, I'm just going to run the data through the code manually. I create an object in a variable for the data I need to pass into the function.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// collapsing for brevity</span>\n<span class=\"token keyword\">var</span> sessions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">printData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> sessions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Manually create objects and assign each one to a variable</span>\n<span class=\"token keyword\">var</span> mobileData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token punctuation\">:</span> <span class=\"token string\">'mobile-container'</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'mobile'</span><span class=\"token punctuation\">,</span>\n    sessions<span class=\"token punctuation\">:</span> sessions<span class=\"token punctuation\">[</span><span class=\"token string\">'mobile'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> tabletData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token punctuation\">:</span> <span class=\"token string\">'tablet-container'</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'tablet'</span><span class=\"token punctuation\">,</span>\n    sessions<span class=\"token punctuation\">:</span> sessions<span class=\"token punctuation\">[</span><span class=\"token string\">'tablet'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> desktopData <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token punctuation\">:</span> <span class=\"token string\">'desktop-container'</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'desktop'</span><span class=\"token punctuation\">,</span>\n    sessions<span class=\"token punctuation\">:</span> sessions<span class=\"token punctuation\">[</span><span class=\"token string\">'desktop'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>And I invoke the function using the properties of each object.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Manually invoke function</span>\n<span class=\"token function\">printData</span><span class=\"token punctuation\">(</span>mobileData<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> mobileData<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> mobileData<span class=\"token punctuation\">.</span>sessions<span class=\"token punctuation\">)</span>\n<span class=\"token function\">printData</span><span class=\"token punctuation\">(</span>tabletData<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> tabletData<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> tabletData<span class=\"token punctuation\">.</span>sessions<span class=\"token punctuation\">)</span>\n<span class=\"token function\">printData</span><span class=\"token punctuation\">(</span>desktopData<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> desktopData<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> desktopData<span class=\"token punctuation\">.</span>sessions<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Clearly, this code is very inefficient. I see a lot of repetition. I know the redundancy is bad, but I don't necessarily know how to fix it. So here's how we're going to do it.</p>\n<h2 id=\"refactoring\"><a href=\"#refactoring\" aria-label=\"refactoring permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Refactoring</h2>\n<p>First, I'll create an array that contains all the key values with <code class=\"language-text\">Object.keys</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> sessions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">printData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> sessions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> devices <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>sessions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// returns [ \"mobile\", \"tablet\" ... ]</span></code></pre></div>\n<p>Then I'll make an array of objects, containing all the properties I need. I'll do this with <code class=\"language-text\">map()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> sessions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">printData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> sessions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> devices <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>sessions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> devices<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">device</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// returns [{ ... }, { ... }, { ... }], an array of objects</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      id<span class=\"token punctuation\">:</span> device <span class=\"token operator\">+</span> <span class=\"token string\">'-container'</span><span class=\"token punctuation\">,</span>\n      name<span class=\"token punctuation\">:</span> device<span class=\"token punctuation\">,</span>\n      sessions<span class=\"token punctuation\">:</span> sessions<span class=\"token punctuation\">[</span>device<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Finally, I'll do a <code class=\"language-text\">forEach()</code> loop to run the function once for each object.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">data<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">device</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">printData</span><span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">.</span>sessions<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>And that's it! Here it is below.</p>\n<div class=\"filename\">fullCode.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> sessions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  mobile<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  tablet<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  desktop<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">printData</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> sessions</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span>\n  div<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n  div<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> name <span class=\"token operator\">+</span> <span class=\"token string\">' : '</span> <span class=\"token operator\">+</span> sessions\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>div<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> devices <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>sessions<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> devices<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">device</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token punctuation\">:</span> device <span class=\"token operator\">+</span> <span class=\"token string\">'-container'</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token punctuation\">:</span> device<span class=\"token punctuation\">,</span>\n    sessions<span class=\"token punctuation\">:</span> sessions<span class=\"token punctuation\">[</span>device<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\ndata<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">device</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">printData</span><span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">.</span>sessions<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>And here it is updated with some ES6 syntax.</p>\n<div class=\"filename\">fullCodeES6.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> sessions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  mobile<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  tablet<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  desktop<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">printData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> sessions</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span>\n  div<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id\n  div<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> : </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>sessions<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>div<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> devices <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>sessions<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> devices<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">device</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>device<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">-container`</span></span><span class=\"token punctuation\">,</span>\n    name<span class=\"token punctuation\">:</span> device<span class=\"token punctuation\">,</span>\n    sessions<span class=\"token punctuation\">:</span> sessions<span class=\"token punctuation\">[</span>device<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\ndata<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">device</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">printData</span><span class=\"token punctuation\">(</span>device<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> device<span class=\"token punctuation\">.</span>sessions<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now, the code may not be that much shorter now, but imagine if our data had fifty entries instead of three. Then you’d really start to see the benefit.</p>\n<p>Note that less code or shorter code is not necessarily better code. You shouldn’t sacrifice readability and clarity for brevity.</p>\n<ul>\n<li><a href=\"https://codepen.io/taniarascia/pen/pLOLQX\">Here is a demo</a> of the code example above.</li>\n</ul>","timeToRead":3,"excerpt":"Refactoring is the process of editing code to improve efficiency and readability without changing the output. I made a little example to…","frontmatter":{"title":"Basic Refactoring: Don't Repeat Yourself","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACbElEQVQ4y+2V30tTYRjH90cECVpZRhdunf208sfWZjnn3NnOjOgiugkCqYusbqIuI+hGKiSQMiQQIjChbnMXQj+uEmphntTSSmc4z9kqzUz37Xmfs01HaiO87OLh7Ox9n8/7fL/P83JM+kgE2up4F/6n0LNPk5592awwaf+Bhsly/reu5tbkggbouX25dXUTKtTUwgP0Yrs8OyxzaOrqd6Oq5NuV/4sGLnyMcDCMkhcmIhxfR8NY/Kzg+/tIHmraSE5qJIyZIRkX22rQdroaibhMYAVPev04eWI/omEXLl+ohfqiGd/GDOi6HmqqjDQBp9+E4HbbYXdYkSSpg7EA9koSJKuEpkYntpRU4sypA5j7EOHqNwSmGChTogN1dTZOunPDi62lleju8AF6Cx501SM+0MTytb9JTmeBjX4HamtsnPS45zC2lZtxtKUKsb4G/JpUsEQhGqUXA/xCwIDfybKFh6Lqs63VKCPozt0WBg888uPHRFby2mNiPFMUiXiIKnTC47Fj8lWIOyqk93YfwvFj+xjqdFkx2B/A3HjkT+AseSdGQszXPG1Ik8wAeegmD4V8IVt9HgSSUWAmiutXPSgpM6Pj2kEsJ6IGUDQgN7DilP6HDexbT6ePfZJsEsl2MOwcjY+rysrNGH4WxKXzNdykrpteLE0phRUK4HwWaLNLbP6OXRZU7LFwQiah4N4tX36tvMKC0u1mHFFcGH/ZjPTYGpI18u8n3Qpxeme7lyXF+vzsnbhqi58UDD0N4i4d0H7Fg/u36zH12vB2/abQgtiwTBVlyBdxO1buMa1RU4S8zHSUxyY9asDE5+Q3DE1/m6OVCiYAAAAASUVORK5CYII=","width":150,"height":150,"src":"/static/958cb5fcf40d0196ffc68166b4dc1522/4148e/js.png","srcSet":"/static/958cb5fcf40d0196ffc68166b4dc1522/4148e/js.png 1x"}}},"slug":"refactoring-dont-repeat-yourself","date":"2018-04-05T00:00:00.000Z","categories":["JavaScript"],"tags":["javascript","refactoring"],"template":"post"},"fields":{"slug":"/refactoring-dont-repeat-yourself/","date":"2018-04-05T00:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/refactoring-dont-repeat-yourself/"}}}